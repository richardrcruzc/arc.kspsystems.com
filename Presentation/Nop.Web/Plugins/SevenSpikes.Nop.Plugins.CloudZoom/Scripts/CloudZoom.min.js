!function(t){t(document).ready(function(){function o(o){o&&o.options.autoInside>0&&(t(window).width()<o.options.autoInside&&(o.options.captionPosition="bottom"),t(window).resize(function(){t(window).width()<=o.options.autoInside?o.options.captionPosition="bottom":o.options.captionPosition="top"}))}CloudZoom.quickStart();var a=t(".cloudZoomAdjustPictureOnProductAttributeValueChange"),e=t(".cloudZoomPictureThumbnailsInCarouselData");if("true"===a.attr("data-isIntegratedByWidget")){var i=t("#sevenspikes-cloud-zoom"),r=i.attr("data-defaultImageContainerSelector");if(void 0==r||""===r)return;var n,l;t(r).each(function(){t(this).find("#sevenspikes-cloud-zoom").length<=0?n=t(this):l=t(this)}),null!=n&&null!=l&&(n.replaceWith(l),l.show()),function(o){var a=o.attr("data-selectorOfTheParentElementOfTheCloudZoomWindow");if(void 0!=a&&""!==a){var e=t(a);if(void 0!=e){var i=o.attr("data-zoomWindowElementId");if(void 0==i||""===i)return;var r="<div id="+i+' style="position: absolute;"></div>';t(e).prepend(r)}}}(i),t.event.trigger({type:"nopCloudZoomLoadCompletedEvent"});var d=i.attr("data-zoomWindowElementId");t("#cloudZoomImage").bind("cloudzoom_start_zoom",function(){if(d){var o=i.attr("data-zoom-window-width"),a=i.attr("data-zoom-window-height");t("#"+d).width(o),t("#"+d).height(a)}t(".gallery .ribbon-wrapper .ribbon-position").hide()}),t("#cloudZoomImage").bind("cloudzoom_end_zoom",function(){d&&(t("#"+d).css("width",""),t("#"+d).css("height","")),t(".gallery .ribbon-wrapper .ribbon-position").show()})}if(t("#cloudZoomImage").bind("cloudzoom_ready",function(){o(t("#cloudZoomImage").data("CloudZoom"))}),e.length>0){var u=parseInt(e.attr("data-numVisible"))||5,c=parseInt(e.attr("data-numScrollable"))||u||5,s="true"===e.attr("data-enable-slider-arrows"),p="true"===e.attr("data-enable-slider-dots"),m="true"===e.attr("data-vertical"),g="true"===e.attr("data-rtl"),h=e.attr("data-responsive-breakpoints-for-thumbnails"),f={},v=!m&&g;try{f=JSON.parse(h);for(var b=0;b<f.length;b++)f[b].settings.vertical||(f[b].settings.rtl=g)}catch(t){console.log("Invalid carousel breakpoints setting value!")}t("#picture-thumbs-carousel").slick({rtl:v,infinite:!0,vertical:m,slidesToShow:u,slidesToScroll:c,arrows:s,dots:p,easing:"swing",draggable:!1,responsive:f})}t(".cloudZoomEnableClickToZoom").length>0&&t("#cloudZoomImage").bind("click",function(){t(this).data("CloudZoom").closeZoom();var o=new Array,a=function(t,o){this.src=t,this.title=o};t(".picture-thumbs a.cloudzoom-gallery").length<1&&o.push(new a(t(".picture a.picture-link").attr("data-full-image-url"),t(".picture a.picture-link img").attr("title"))),t(".picture-thumbs a.cloudzoom-gallery").each(function(){t(this).parent().hasClass("slick-cloned")||o.push(new a(t(this).attr("data-full-image-url"),t(this).attr("title")))});for(var i=0,r=0;r<o.length;r++){var n=o[r].src.slice(0,-5);if(-1!==t(".picture a.picture-link img").attr("src").indexOf(n)){i=r;break}}return t.magnificPopup.open({items:o,type:"image",removalDelay:300,gallery:{enabled:!0,tPrev:e.attr("data-magnificpopup-prev"),tNext:e.attr("data-magnificpopup-next"),tCounter:e.attr("data-magnificpopup-counter")},tClose:e.attr("data-magnificpopup-close"),tLoading:e.attr("data-magnificpopup-loading")},i),!1}),t(document).on("product_attributes_changed",function(o){if(o.changedData&&o.changedData.pictureFullSizeUrl){var a=o.changedData.pictureFullSizeUrl;t('.cloudzoom-gallery[data-full-image-url="'+a+'"]').click(),t.event.trigger({type:"nopMainProductImageChanged",pictureDefaultSizeUrl:a,pictureFullSizeUrl:a})}})})}(jQuery);